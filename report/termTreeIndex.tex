
\newcommand{\term}[3]{
	\node[state] (#1) [#3] {#2};
}

\newcommand{\termMap}[2]{
	\node[fill=black, rectangle, minimum height=0.15em] (#1) [#2] {};
}

\newcommand{\branch}[2]{
	\draw (#1) -- (#2);
}

\newcommand{\indices}[4]{
	\node[align=center, font=\scriptsize, #4] (#1) {
	\{#3\}
	};
	\draw[dashed] (#2) -- (#1);
}


\begin{tikzpicture}[>=stealth',node distance=1em and 1em, auto,
                    semithick, shorten >=0pt, every node/.style={transform shape}]
  \tikzstyle{every state}=[align=center,  font=\small, rectangle, minimum height=1.5em]

\term{T1}{foo}{};

\termMap{M1}{below left=of T1};
\termMap{M2}{below right=of T1};

\branch{T1}{M1};
\branch{T1}{M2};

\term{T2}{baz}{below left=of M1};
\term{T3}{bar}{below right=of M1};

\branch{M1}{T2};
\branch{M1}{T3};

\term{T4}{boz}{below right=of M2};

\branch{M2}{T4};

\indices{I1}{T1}{1, 2}{below =of T1};
\indices{I1}{T2}{1}{below =of T2};
\indices{I1}{T3}{2}{below =of T3};
\indices{I1}{T4}{1,2}{below =of T4};

 
\end{tikzpicture}